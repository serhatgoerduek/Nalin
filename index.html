<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nalin ğŸ’˜</title>

<style>
  :root{
    --bg1:#ff6b81;
    --bg2:#ff9ff3;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    background:linear-gradient(135deg,var(--bg1),var(--bg2));
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    color:white;
    text-align:center;
    padding:18px;
  }

  .card{
    background:rgba(255,255,255,0.15);
    backdrop-filter:blur(20px);
    padding:38px 22px 22px;
    border-radius:25px;
    width:90%;
    max-width:520px;
    box-shadow:0 25px 60px rgba(0,0,0,0.30);
    position:relative;
  }

  h1{ margin:0 0 10px; font-size:28px; }
  h2{ margin:10px 0 0; font-size:20px; font-weight:800; }
  p{ opacity:0.92; margin:0 0 6px; }

  .btnRow{
    margin-top:18px;
    display:flex;
    justify-content:center;
    gap:12px;
    flex-wrap:wrap;
    min-height:54px;
  }

  button{
    padding:12px 22px;
    border:none;
    border-radius:14px;
    font-size:16px;
    font-weight:800;
    cursor:pointer;
    transition: transform 0.12s ease, filter 0.12s ease, left 0.10s ease, top 0.10s ease;
    user-select:none;
  }
  button:active{ transform: translateY(1px) scale(.99); }

  .yes{
    background:white;
    color:#ff2d55;
  }
  .yes:hover{ filter: brightness(1.03); transform: scale(1.03); }

  /* Nein: kein Hover-Scale */
  .no{
    background:rgba(255,255,255,0.28);
    color:white;
    position:fixed;   /* wir positionieren relativ zum Viewport */
    left: 50%;
    top: 50%;
    transform: translate(70px, 40px); /* Startposition nahe Card */
    z-index: 9999;
  }
  .no:hover{ transform: none; filter:none; } /* verhindert "grÃ¶ÃŸer werden" */

  .result{
    display:none;
    margin-top:18px;
    font-size:18px;
    line-height:1.35;
  }

  .spotify{
    display:none;
    margin-top:16px;
  }
  iframe{
    width:100%;
    height:152px;
    border:0;
    border-radius:16px;
  }

  .heart{
    position:absolute;
    bottom:-20px;
    font-size:22px;
    animation:floatUp 4s linear forwards;
    pointer-events:none;
  }
  @keyframes floatUp{
    to{ transform:translateY(-110vh); opacity:0; }
  }
</style>
</head>

<body>

<div class="card" id="card">
  <h1>Nalinâ€¦ ğŸ’˜</h1>
  <p>Ich hab nur eine Frage an dich ğŸ˜Œ</p>
  <h2>Willst du mein Valentine sein? ğŸŒ¹</h2>

  <div class="btnRow">
    <button class="yes" id="yesBtn">Ja ğŸ’–</button>
  </div>

  <button class="no" id="noBtn">Nein ğŸ™ˆ</button>

  <div class="result" id="result">
    Yesss ğŸ˜ Dann ist das unser Song âœ¨ğŸŒ¹
  </div>

  <div class="spotify" id="spotify">
    <iframe
      id="spotifyFrame"
      src=""
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
    </iframe>
  </div>
</div>

<script>
  const card = document.getElementById("card");
  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");
  const result = document.getElementById("result");
  const spotify = document.getElementById("spotify");
  const spotifyFrame = document.getElementById("spotifyFrame");

  // âœ… Radius-Einstellungen (in px) â€“ so bleibt er immer in Reichweite
  const RADIUS_MIN = 70;   // nie direkt auf dem "Ja"-Button
  const RADIUS_MAX = 190;  // nicht zu weit weg
  const EDGE_PADDING = 14; // Abstand zum Bildschirmrand

  function rand(min, max){ return Math.random()*(max-min)+min; }

  function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }

  // zufÃ¤lliger Punkt in einem Ring (min..max) um Card-Mittelpunkt
  function randomPointAroundCard(){
    const rect = card.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top  + rect.height/2;

    const angle = rand(0, Math.PI * 2);
    const radius = rand(RADIUS_MIN, RADIUS_MAX);

    // Zielpunkt (Button-TopLeft)
    const bw = noBtn.offsetWidth || 90;
    const bh = noBtn.offsetHeight || 44;

    let x = cx + Math.cos(angle) * radius - bw/2;
    let y = cy + Math.sin(angle) * radius - bh/2;

    // innerhalb des Viewports halten
    x = clamp(x, EDGE_PADDING, window.innerWidth  - bw - EDGE_PADDING);
    y = clamp(y, EDGE_PADDING, window.innerHeight - bh - EDGE_PADDING);

    return {x, y};
  }

  function jumpNo(){
    const {x, y} = randomPointAroundCard();
    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";
  }

  // Start: einmal sinnvoll platzieren
  jumpNo();

  // Nein springt bei jedem Klick/Tap
  noBtn.addEventListener("click", (e)=>{ e.preventDefault(); jumpNo(); });
  noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); jumpNo(); }, {passive:false});

  // Ja: Hearts + Spotify laden
  yesBtn.addEventListener("click", ()=>{
    result.style.display = "block";
    spotify.style.display = "block";
    yesBtn.disabled = true;
    yesBtn.textContent = "Ja (fest!) ğŸ’–";
    noBtn.disabled = true;

    // Hearts
    for(let i=0;i<25;i++){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = "ğŸ’–";
      h.style.left = (Math.random()*100) + "vw";
      h.style.animationDuration = (3 + Math.random()*2) + "s";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(), 4000);
    }

    // Spotify (Start-Versuch nach Klick)
    spotifyFrame.src = "https://open.spotify.com/embed/track/3U5JVgI2x4rDyHGObzJfNf?utm_source=generator&autoplay=1";
  });

  // Bei Resize neu clampen (z.B. Handy drehen)
  window.addEventListener("resize", ()=>{
    if(!noBtn.disabled) jumpNo();
  });
</script>

</body>
</html>
